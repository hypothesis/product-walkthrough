main {
    font: 16px/1.25 Lato, Helvetica, Sans-Serif;
    margin: 1em auto;
    width: 1280px;
}
    main p {
        width: 400px;
    }

.walkthrough {
    height: 500px;
    margin: 1em 0;
    position: relative;
    width: 100%;
}
    .walkthrough figure {
        display: flex;
        height: 100%;
        margin: 0;
        pointer-events: none;
        position: absolute;
        width: 1126px;
    }
        .walkthrough figure .images {

/* TODO remove this */
background: rgba(255,0,0,0.1);

            height: 100%;
            opacity: 0;
            position: relative;
            width: 685px;
            transition: opacity 0.5s;
        }
            .walkthrough figure .images img {
                max-height: 100%;
                max-width: 100%;
                opacity: 0;
                position: absolute;
                transition: opacity 0.5s;
            }
            .walkthrough figure.selected .images, .walkthrough figure.selected .images img.selected {
                opacity: 1;
            }
        .walkthrough figure figcaption {
            align-items: center;
            background: white;
            cursor: pointer;
            display: flex;
            height: 94px;
            margin-left: 60px;
            padding: 0 26px;
            pointer-events: auto;
            position: relative;
            transition: background 0.5s;
            width: 360px;
        }
            .walkthrough figure.selected figcaption {
                background: rgb(245, 245, 245);
            }
            .walkthrough figure:nth-child(1) figcaption {
                top: 20px;
            }
            .walkthrough figure:nth-child(2) figcaption {
                top: 134px;
            }
            .walkthrough figure:nth-child(3) figcaption {
                top: 248px;
            }
            .walkthrough figure:nth-child(4) figcaption {
                top: 362px;
            }
                .walkthrough figure.selected figcaption .progress-bar {
                    background: red;
                    content: ' ';
                    height: 0;
                    left: 0;
                    position: absolute;
                    top: 0;
                    width: 2px;
                }

/* under some magical size, scroll horizontally rather than stack */
@media (max-width: 1024px) {
    main {
        width: 800px;
    }

    .walkthrough {
        width: 4000px;
    }
        .walkthrough figure {
            display: inline-block;
            position: static;
        }
            .walkthrough figure .images {
                height: 400px;
                opacity: 1;
                width: 640px;
            }
            .walkthrough figure figcaption {
                position: static;
            }
}
